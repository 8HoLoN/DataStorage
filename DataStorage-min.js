/*!* @preserve
 *
 * https://github.com/8HoLoN/DataStorage
 * @version: 0.2.00 ( June 2015 )
 * @author 8HoLoN / https://github.com/8HoLoN/
 * < 8holon [at] gmail.com >
 * Copyright (c) 2011-2015 Alexandre REMY
 */
!function(_g){function DataStorage(_args){if(_args=_args||{},"undefined"==typeof JSON)throw new Error("JSON object is not supported");if("undefined"==typeof localStorage)throw new Error("localStorage object is not supported");this.autogeneratedPrefix="undefined"==typeof _args.prefix||!1,_args.prefix===!1?this.prefix="":(this.prefix=_args.prefix||Math.random().toString(36).substr(2,5),this.prefix+="."),this.prefixes=[];try{var _prefixes=JSON.parse(localStorage.getItem("DataStoragePrefixes"));_isArray(_prefixes)&&(this.prefixes=_prefixes)}catch(e){}for(var _addedFlag=!1,i=0,l=this.prefixes.length;l>i;i++)if(this.prefixes[i]===this.prefix){_addedFlag=!0;break}_addedFlag||(this.prefixes.push(this.prefix),localStorage.DataStoragePrefixes=JSON.stringify(this.prefixes))}function _isArray(_o){return"[object Array]"===Object.prototype.toString.call(_o)}DataStorage.prototype.setItem=function(_key,_value,_opts){return _opts=_opts||{},_opts.json===!1?localStorage.setItem(this.prefix+_key,_value):localStorage.setItem(this.prefix+_key,JSON.stringify(_value)),this},DataStorage.prototype.getItem=function(_key,_opts){return _opts=_opts||{},_opts.json===!1?localStorage.getItem(this.prefix+_key):JSON.parse(localStorage.getItem(this.prefix+_key))},DataStorage.prototype.clear=function(_args){if(_args=_args||{},"undefined"==typeof _args.key){var _regex=new RegExp("^"+this.prefix);for(var _k in localStorage){var _match=_k.match(_regex);null!==_match&&localStorage.removeItem(_match.input)}}else localStorage.removeItem(this.prefix+_args.key)},DataStorage.prototype.clearLocalStorage=function(){localStorage.clear()},_g.DataStorage=DataStorage}(this);